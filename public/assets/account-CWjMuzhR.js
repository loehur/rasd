import{r as l,j as C,c as u,o as m,a as e,b as M,d as v,t as c,n as S,g as b,w as B,e as h,v as x,h as N}from"./tailwind-BChqtM0q.js";const P={class:"min-h-screen bg-slate-950 text-slate-100"},j={class:"bg-slate-900/80 backdrop-blur border-b border-slate-800/80 sticky top-0 z-50"},A={class:"px-4 sm:px-6 lg:px-8"},T={class:"flex items-center justify-between h-16"},V={class:"relative"},U={class:"text-right"},D={class:"text-sm font-semibold"},E={class:"text-xs text-emerald-300/70"},F={key:0,class:"absolute right-0 mt-2 w-48 bg-slate-900 border border-slate-800 rounded-lg shadow-lg overflow-hidden z-50"},H={class:"p-4 sm:p-6 lg:p-8"},I={class:"max-w-2xl mx-auto"},z={key:0,class:"mb-6 p-4 bg-emerald-500/10 border border-emerald-500/30 rounded-xl text-emerald-400"},O={key:1,class:"mb-6 p-4 bg-red-500/10 border border-red-500/30 rounded-xl text-red-400"},L={class:"bg-slate-900/70 backdrop-blur border border-slate-800/80 rounded-2xl p-6 mb-6"},J={class:"mb-4"},R={class:"mb-4"},q=["disabled"],$={__name:"AccountPage",setup(G){const s=l({name:"",phone_number:"",role:""}),n=l(!1),r=l(""),i=l(""),p=l(!1),o=l({name:"",phone_number:""}),g=()=>{n.value=!n.value};C(()=>{const a=localStorage.getItem("auth_token"),t=localStorage.getItem("user");if(!a||!t){window.location.href="/admin";return}s.value=JSON.parse(t),o.value.name=s.value.name,o.value.phone_number=s.value.phone_number,document.addEventListener("click",d=>{d.target.closest(".relative")||(n.value=!1)})});const f=async()=>{r.value="",i.value="",p.value=!0;try{const a=await fetch(`${API_BASE_URL}/api/account/name`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:o.value.name,phone_number:s.value.phone_number,new_phone_number:o.value.phone_number})}),t=await a.json();a.ok&&t.success?(s.value.name=o.value.name,s.value.phone_number=o.value.phone_number,localStorage.setItem("user",JSON.stringify(s.value)),r.value="Profile updated successfully!",setTimeout(()=>{r.value=""},3e3)):i.value=t.message||"Failed to update name"}catch{i.value="An error occurred. Please try again."}finally{p.value=!1}},w=()=>{window.location.href="/admin/dashboard"},k=()=>{window.location.href="/admin/dashboard"},_=()=>{window.location.href="/admin/change-password"},y=()=>{localStorage.removeItem("auth_token"),localStorage.removeItem("user"),window.location.href="/admin"};return(a,t)=>(m(),u("div",P,[e("nav",j,[e("div",A,[e("div",T,[t[6]||(t[6]=M('<div class="flex items-center gap-3"><div class="h-10 w-10 rounded-xl bg-gradient-to-br from-blue-500 to-emerald-400 flex items-center justify-center shadow-lg"><svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path></svg></div><div><p class="text-sm font-bold tracking-wider text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-emerald-400"> STAFF PERFORMANCE </p><p class="text-[0.65rem] text-slate-500"> Performance System </p></div></div>',1)),e("div",V,[e("button",{onClick:g,class:"flex items-center gap-2 text-emerald-400 hover:text-emerald-300 transition cursor-pointer"},[e("div",U,[e("p",D,c(s.value.name),1),e("p",E,c(s.value.role),1)]),(m(),u("svg",{class:S(["w-4 h-4 transition-transform",{"rotate-180":n.value}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...t[2]||(t[2]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])],2))]),n.value?(m(),u("div",F,[e("button",{onClick:k,class:"w-full px-4 py-2 text-left text-sm text-slate-300 hover:bg-slate-800 transition flex items-center gap-2"},[...t[3]||(t[3]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})],-1),b(" Dashboard ",-1)])]),e("button",{onClick:_,class:"w-full px-4 py-2 text-left text-sm text-slate-300 hover:bg-slate-800 transition flex items-center gap-2"},[...t[4]||(t[4]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"})],-1),b(" Change Password ",-1)])]),e("button",{onClick:y,class:"w-full px-4 py-2 text-left text-sm text-red-400 hover:bg-slate-800 transition flex items-center gap-2"},[...t[5]||(t[5]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})],-1),b(" Logout ",-1)])])])):v("",!0)])])])]),e("main",H,[e("div",I,[e("div",{class:"mb-8"},[e("button",{onClick:w,class:"mb-4 text-slate-400 hover:text-slate-200 flex items-center gap-2 transition"},[...t[7]||(t[7]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1),b(" Back to Dashboard ",-1)])]),t[8]||(t[8]=e("h1",{class:"text-3xl font-black bg-clip-text text-transparent bg-gradient-to-r from-white via-slate-100 to-slate-300"}," Account Settings ",-1)),t[9]||(t[9]=e("p",{class:"text-slate-400 mt-2"}," Update your account information and password ",-1))]),r.value?(m(),u("div",z,c(r.value),1)):v("",!0),i.value?(m(),u("div",O,c(i.value),1)):v("",!0),e("div",L,[t[12]||(t[12]=e("h2",{class:"text-xl font-bold text-slate-100 mb-4"}," Update Profile ",-1)),e("form",{onSubmit:B(f,["prevent"])},[e("div",J,[t[10]||(t[10]=e("label",{class:"block text-sm font-medium text-slate-300 mb-2"}," Full Name ",-1)),h(e("input",{"onUpdate:modelValue":t[0]||(t[0]=d=>o.value.name=d),type:"text",required:"",class:"w-full px-4 py-2 bg-slate-800/50 border border-slate-700 rounded-lg text-slate-100 placeholder-slate-500 focus:outline-none focus:border-blue-500 transition",placeholder:"Enter your name"},null,512),[[x,o.value.name]])]),e("div",R,[t[11]||(t[11]=e("label",{class:"block text-sm font-medium text-slate-300 mb-2"}," Phone Number ",-1)),h(e("input",{"onUpdate:modelValue":t[1]||(t[1]=d=>o.value.phone_number=d),type:"text",required:"",class:"w-full px-4 py-2 bg-slate-800/50 border border-slate-700 rounded-lg text-slate-100 placeholder-slate-500 focus:outline-none focus:border-blue-500 transition",placeholder:"Enter your phone number"},null,512),[[x,o.value.phone_number]])]),e("button",{type:"submit",disabled:p.value,class:"w-full px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-slate-700 text-white font-medium rounded-lg transition"},c(p.value?"Updating...":"Update Profile"),9,q)],32)])])])]))}};N($).mount("#app");
