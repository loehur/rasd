import{r as m,j as M,c as n,o as d,a as t,d as b,g as y,w as C,e as i,v as u,t as c,b as S,n as T,h as A}from"./tailwind-HuTPVDuH.js";import{A as w}from"./api-n_PshMHp.js";const V={class:"min-h-screen bg-slate-950 text-slate-100 p-6"},z={class:"max-w-4xl mx-auto"},P={key:0,class:"text-center py-12 bg-slate-900/70 backdrop-blur border border-slate-800/80 rounded-2xl"},R={key:1,class:"bg-slate-900/70 backdrop-blur border border-slate-800/80 rounded-2xl p-6"},U={class:"grid grid-cols-2 gap-6 mb-6"},$={class:"col-span-2"},H={class:"col-span-2 md:col-span-1"},E={class:"col-span-2 md:col-span-1"},I={class:"col-span-2 md:col-span-1"},N={class:"col-span-2 md:col-span-1"},D={class:"col-span-2 md:col-span-1"},F={class:"col-span-2 md:col-span-1"},O={class:"flex gap-3 pt-6 border-t border-slate-800"},q=["disabled"],G={class:"text-center mb-6"},J={class:"bg-slate-800/50 rounded-lg p-4 mb-4"},K={class:"text-slate-100 font-semibold"},Q={class:"text-slate-400 text-sm font-mono"},W={class:"flex gap-3"},X=["disabled"],Y=["disabled"],Z={key:1,class:"fixed bottom-4 right-4 z-50 animate-slide-up"},ee={key:0,class:"w-6 h-6 text-emerald-400 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},te={key:1,class:"w-6 h-6 text-red-400 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},se={__name:"EditTeamLeader",setup(oe){const o=m(null),v=m(!1),x=m(!1),f=m(!1),p=m(!1),l=m({show:!1,message:"",type:""}),g=window.location.pathname.split("/").pop();M(()=>{_()});const _=async()=>{v.value=!0;try{const a=localStorage.getItem("auth_token"),s=await(await fetch(`${w}/api/team-leaders/${g}`,{headers:{Authorization:`Bearer ${a}`}})).json();s.success?o.value=s.data:r("Failed to load team leader data","error")}catch(a){r("Connection error","error"),console.error("Load error:",a)}finally{v.value=!1}},B=async()=>{x.value=!0;try{const a=localStorage.getItem("auth_token"),s=await(await fetch(`${w}/api/team-leaders/${g}`,{method:"PUT",headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"},body:JSON.stringify(o.value)})).json();s.success?r("Team Leader data updated successfully","success"):r(s.message||"Failed to update","error")}catch(a){r("Connection error","error"),console.error("Save error:",a)}finally{x.value=!1}},L=()=>{f.value=!0},k=()=>{f.value=!1},j=async()=>{p.value=!0;try{const a=localStorage.getItem("auth_token"),s=await(await fetch(`${w}/api/team-leaders/${g}/reset-password`,{method:"POST",headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}})).json();s.success?(r('Password berhasil di-reset ke "tl1230"',"success"),k()):r(s.message||"Gagal reset password","error")}catch(a){r("Terjadi kesalahan saat reset password","error"),console.error("Reset password error:",a)}finally{p.value=!1}},r=(a,e="info")=>{l.value={show:!0,message:a,type:e},setTimeout(()=>{l.value.show=!1},4e3)},h=()=>{window.location.href="/admin/team-leader-list"};return(a,e)=>(d(),n("div",V,[t("div",z,[t("div",{class:"mb-8"},[t("button",{onClick:h,class:"mb-4 text-slate-400 hover:text-slate-200 flex items-center gap-2 transition"},[...e[8]||(e[8]=[t("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1),y(" Back to Team Leader List ",-1)])]),e[9]||(e[9]=t("h1",{class:"text-3xl font-black bg-clip-text text-transparent bg-gradient-to-r from-white via-slate-100 to-slate-300"}," Edit Team Leader ",-1)),e[10]||(e[10]=t("p",{class:"text-slate-400 mt-2"}," Edit Team Leader information ",-1))]),v.value?(d(),n("div",P,[...e[11]||(e[11]=[t("div",{class:"inline-block w-12 h-12 border-4 border-blue-500/30 border-t-blue-500 rounded-full animate-spin"},null,-1),t("p",{class:"text-slate-400 mt-4"},"Loading team leader data...",-1)])])):o.value?(d(),n("div",R,[t("form",{onSubmit:C(B,["prevent"])},[t("div",U,[t("div",$,[e[12]||(e[12]=t("label",{class:"block text-sm font-medium text-slate-300 mb-2"}," Employee ID ",-1)),i(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>o.value.employee_id=s),type:"text",disabled:"",class:"w-full px-4 py-2 bg-slate-800/50 border border-slate-700 rounded-lg text-slate-400 cursor-not-allowed"},null,512),[[u,o.value.employee_id]])]),t("div",H,[e[13]||(e[13]=t("label",{class:"block text-sm font-medium text-slate-300 mb-2"}," Name * ",-1)),i(t("input",{"onUpdate:modelValue":e[1]||(e[1]=s=>o.value.name=s),type:"text",required:"",class:"w-full px-4 py-2 bg-slate-800 border border-slate-700 rounded-lg text-slate-100 focus:border-blue-500 focus:outline-none"},null,512),[[u,o.value.name]])]),t("div",E,[e[14]||(e[14]=t("label",{class:"block text-sm font-medium text-slate-300 mb-2"}," Position ",-1)),i(t("input",{"onUpdate:modelValue":e[2]||(e[2]=s=>o.value.position=s),type:"text",class:"w-full px-4 py-2 bg-slate-800 border border-slate-700 rounded-lg text-slate-100 focus:border-blue-500 focus:outline-none"},null,512),[[u,o.value.position]])]),t("div",I,[e[15]||(e[15]=t("label",{class:"block text-sm font-medium text-slate-300 mb-2"}," Team ",-1)),i(t("input",{"onUpdate:modelValue":e[3]||(e[3]=s=>o.value.team=s),type:"text",class:"w-full px-4 py-2 bg-slate-800 border border-slate-700 rounded-lg text-slate-100 focus:border-blue-500 focus:outline-none"},null,512),[[u,o.value.team]])]),t("div",N,[e[16]||(e[16]=t("label",{class:"block text-sm font-medium text-slate-300 mb-2"}," Department ",-1)),i(t("input",{"onUpdate:modelValue":e[4]||(e[4]=s=>o.value.department=s),type:"text",class:"w-full px-4 py-2 bg-slate-800 border border-slate-700 rounded-lg text-slate-100 focus:border-blue-500 focus:outline-none"},null,512),[[u,o.value.department]])]),t("div",D,[e[17]||(e[17]=t("label",{class:"block text-sm font-medium text-slate-300 mb-2"}," Area ",-1)),i(t("input",{"onUpdate:modelValue":e[5]||(e[5]=s=>o.value.area=s),type:"text",class:"w-full px-4 py-2 bg-slate-800 border border-slate-700 rounded-lg text-slate-100 focus:border-blue-500 focus:outline-none"},null,512),[[u,o.value.area]])]),t("div",F,[e[18]||(e[18]=t("label",{class:"block text-sm font-medium text-slate-300 mb-2"}," Hire Date ",-1)),i(t("input",{"onUpdate:modelValue":e[6]||(e[6]=s=>o.value.hire_date=s),type:"date",class:"w-full px-4 py-2 bg-slate-800 border border-slate-700 rounded-lg text-slate-100 focus:border-blue-500 focus:outline-none"},null,512),[[u,o.value.hire_date]])])]),t("div",O,[t("button",{type:"button",onClick:L,class:"px-4 py-2 text-sm font-medium text-amber-300 bg-amber-500/20 border border-amber-500/30 rounded-lg hover:bg-amber-500/30 transition flex items-center gap-2"},[...e[19]||(e[19]=[t("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"})],-1),y(" Reset Password ",-1)])]),e[20]||(e[20]=t("div",{class:"flex-1"},null,-1)),t("button",{type:"button",onClick:h,class:"px-6 py-2 text-sm font-medium text-slate-300 bg-slate-800 border border-slate-700 rounded-lg hover:bg-slate-700 transition"}," Cancel "),t("button",{type:"submit",disabled:x.value,class:"px-6 py-2 text-sm font-medium text-white bg-gradient-to-r from-blue-600 to-emerald-600 rounded-lg hover:from-blue-700 hover:to-emerald-700 transition disabled:opacity-50"},c(x.value?"Saving...":"Save Changes"),9,q)])],32)])):b("",!0)]),f.value?(d(),n("div",{key:0,onClick:k,class:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50"},[t("div",{onClick:e[7]||(e[7]=C(()=>{},["stop"])),class:"bg-slate-900 border border-slate-800 rounded-2xl p-6 max-w-md w-full"},[t("div",G,[e[21]||(e[21]=S('<div class="w-16 h-16 bg-amber-500/20 rounded-full flex items-center justify-center mx-auto mb-4"><svg class="w-8 h-8 text-amber-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"></path></svg></div><h3 class="text-xl font-bold text-slate-100 mb-2"> Reset Password </h3><p class="text-slate-400 text-sm mb-4"> Anda akan mereset password untuk: </p>',3)),t("div",J,[t("p",K,c(o.value.name),1),t("p",Q,c(o.value.employee_id),1)]),e[22]||(e[22]=t("div",{class:"bg-amber-500/10 border border-amber-500/30 rounded-lg p-3 mb-4"},[t("p",{class:"text-amber-300 text-sm"},[y(" Password akan direset ke: "),t("span",{class:"font-mono font-bold"},'"tl1230"')]),t("p",{class:"text-amber-400/70 text-xs mt-1"}," Team Leader harus mengganti password saat login pertama kali ")],-1))]),t("div",W,[t("button",{onClick:k,disabled:p.value,class:"flex-1 px-4 py-2 text-sm font-medium text-slate-300 bg-slate-800 border border-slate-700 rounded-lg hover:bg-slate-700 transition disabled:opacity-50"}," Batal ",8,X),t("button",{onClick:j,disabled:p.value,class:"flex-1 px-4 py-2 text-sm font-medium text-white bg-gradient-to-r from-amber-600 to-orange-600 rounded-lg hover:from-amber-700 hover:to-orange-700 transition disabled:opacity-50"},c(p.value?"Mereset...":"Reset Password"),9,Y)])])])):b("",!0),l.value.show?(d(),n("div",Z,[t("div",{class:T(["px-6 py-4 rounded-lg shadow-xl border flex items-center gap-3 min-w-80",{"bg-emerald-500/20 border-emerald-500/30":l.value.type==="success","bg-red-500/20 border-red-500/30":l.value.type==="error","bg-blue-500/20 border-blue-500/30":l.value.type==="info"}])},[l.value.type==="success"?(d(),n("svg",ee,[...e[23]||(e[23]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)])])):b("",!0),l.value.type==="error"?(d(),n("svg",te,[...e[24]||(e[24]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)])])):b("",!0),t("p",{class:T(["text-sm font-medium",{"text-emerald-100":l.value.type==="success","text-red-100":l.value.type==="error","text-blue-100":l.value.type==="info"}])},c(l.value.message),3)],2)])):b("",!0)]))}};A(se).mount("#app");
