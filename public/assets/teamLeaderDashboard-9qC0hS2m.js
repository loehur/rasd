import{r as v,i as L,j as te,c as n,o as i,a as t,d as f,t as l,w as O,b as C,g as u,e as p,v as m,F as R,k as H,l as T,n as z,h as oe}from"./tailwind-CgVqhJmk.js";import{getTeamLeaderStaff as se,getAttendances as re,getStaffDetail as le,createAttendance as ae}from"./api-DDGvwgGv.js";import"./api-n_PshMHp.js";const ne={class:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50"},ie={class:"bg-white shadow-sm border-b border-gray-200"},de={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4"},ue={class:"flex justify-between items-center"},pe={class:"text-sm text-gray-600 mt-1"},ge={class:"relative"},ve={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},me={class:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8"},fe={class:"bg-white rounded-xl shadow-sm p-6 border border-gray-200"},xe={class:"flex items-center"},ce={class:"ml-4"},ye={class:"text-2xl font-bold text-gray-900"},be={class:"bg-white rounded-xl shadow-sm p-6 border border-gray-200"},we={class:"flex items-center"},ke={class:"ml-4"},he={class:"text-lg font-bold text-gray-900"},_e={class:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden"},Ce={class:"p-6"},Se={key:0,class:"text-center py-12"},Me={key:1,class:"text-center py-12"},Ae={class:"text-gray-600"},De={key:2,class:"text-center py-12"},Ve={class:"mb-3 flex items-center gap-3 justify-center"},je={key:3},Fe={class:"mb-3 flex items-center gap-3"},Ie={class:"overflow-x-auto"},Be={class:"min-w-full divide-y divide-gray-200"},Le={class:"bg-white divide-y divide-gray-200"},Re={class:"px-6 py-4 whitespace-nowrap"},He={class:"text-sm font-medium text-gray-900"},Te={class:"text-xs text-gray-500"},ze={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},Pe={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},Ue={class:"px-6 py-4 whitespace-nowrap"},Ee={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},Oe={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},Ne={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},qe={class:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2"},$e=["onClick"],We={key:0,class:"mt-4 flex items-center justify-between border-t border-gray-200 pt-4"},Ge={class:"text-sm text-gray-700"},Je={class:"flex space-x-2"},Ke=["disabled"],Qe=["onClick"],Xe=["disabled"],Ye={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50 overflow-y-auto"},Ze={class:"bg-white rounded-xl shadow-xl max-w-4xl w-full my-8"},et={class:"p-6 max-h-[calc(90vh-200px)] overflow-y-auto"},tt={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},ot={class:"md:col-span-2"},st=["value"],rt={class:"hidden"},lt={class:"hidden"},at={class:"hidden"},nt={class:"hidden"},it={class:"hidden"},dt={class:"hidden"},ut={class:"hidden"},pt={class:"hidden"},gt={class:"md:col-span-2"},vt={class:"md:col-span-2"},mt={class:"p-6 border-t border-gray-200 bg-gray-50 flex justify-end space-x-3"},ft=["disabled"],xt={key:1,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50 overflow-y-auto"},ct={class:"bg-white rounded-xl shadow-xl max-w-3xl w-full my-8"},yt={class:"p-6 max-h-[calc(90vh-200px)] overflow-y-auto"},bt={key:0,class:"grid grid-cols-2 gap-4"},wt={key:0,class:"col-span-2"},kt=["src"],ht={class:"col-span-2"},_t={class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Ct={key:0,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},St={key:1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},Mt={__name:"DashboardApp",setup(At){const S=v(""),M=v([]),A=v([]),D=v(!0),y=v(""),V=v(!1),j=v(!1),h=v(!1),a=v(null),F=v(null),x=v({show:!1,message:"",type:"success"}),I=v(!1),g=v({total:0,per_page:15,current_page:1,last_page:1,from:0,to:0}),s=v({staff_id:"",work_status:"",name:"",position:"",superior:"",department:"",hire_date:"",rank:"",device:"",group:"",report_day:new Date().toISOString().split("T")[0],last_working_day:"",ranking_intervals:"",reason_for_resign:"",status_code:""}),N=L(()=>M.value.length),q=L(()=>new Date().toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric"})),$=L(()=>{const r=[],e=g.value.current_page,o=g.value.last_page,d=2;for(let k=Math.max(2,e-d);k<=Math.min(o-1,e+d);k++)r.push(k);return e-d>2&&r.unshift("..."),e+d<o-1&&r.push("..."),r.unshift(1),o>1&&r.push(o),r.filter((k,Z,ee)=>ee.indexOf(k)===Z)});te(()=>{if(localStorage.getItem("tl_must_change_password")==="true"){window.location.href="/team-leader/change-password";return}const e=JSON.parse(localStorage.getItem("tl_user")||"{}");S.value=e.name||"Team Leader",W(),w()});const W=async()=>{try{if(!localStorage.getItem("tl_auth_token")){window.location.href="/";return}const e=await se();e.success&&(M.value=e.data||[])}catch(r){console.error("Error fetching staff:",r)}},b=v(new Date().toISOString().split("T")[0]),w=async(r=1)=>{D.value=!0,y.value="";try{const e=await re(r,b.value,1e3);e.success?(A.value=e.data||[],g.value=e.pagination):y.value=e.message||"Failed to load attendances"}catch(e){y.value="Failed to load attendances",console.error("Error:",e)}finally{D.value=!1}},G=async r=>{const e=r.target.value;if(console.log("Staff selection changed to:",e),!e){console.log("No staff selected (empty value)");return}console.log("Fetching staff detail for:",e);try{const o=await le(e);if(console.log("Staff detail response:",o),o.success&&o.data){const d=o.data;console.log("Auto-filling form with staff data:",d),s.value.name=d.name||"",s.value.position=d.position||"",s.value.superior=d.superior||"",s.value.department=d.department||"",s.value.hire_date=d.hire_date||"",s.value.rank=d.rank||"",s.value.group=d.group||"",s.value.work_status=d.work_location||"",s.value.device=d.device||"PC",console.log("Form data after auto-fill:",s.value)}else console.error("Failed to get staff detail:",o),c(o.message||"Failed to load staff details","error")}catch(o){console.error("Error fetching staff detail:",o),c("Error loading staff details","error")}},J=r=>{const e=r.target.files[0];e&&(F.value=e)},K=()=>{U(),V.value=!0},P=()=>{V.value=!1,U()},U=()=>{s.value={staff_id:"",work_status:"",name:"",position:"",superior:"",department:"",hire_date:"",rank:"",device:"",group:"",report_day:new Date().toISOString().split("T")[0],last_working_day:"",ranking_intervals:"",reason_for_resign:"",status_code:""},F.value=null},E=async()=>{h.value=!0;try{const r=await ae(s.value,F.value);if(r.success)c(r.message||"Attendance created successfully","success"),P(),w(g.value.current_page);else if(r.errors){const e=Object.values(r.errors).flat();c(e.join(", "),"error")}else c(r.message||"Operation failed","error")}catch(r){c("An error occurred","error"),console.error("Error:",r)}finally{h.value=!1}},Q=r=>{a.value=r,j.value=!0},X=()=>{j.value=!1,a.value=null},B=r=>{r==="..."||r<1||r>g.value.last_page||w(r)},_=r=>r?new Date(r).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"-",c=(r,e="success")=>{x.value={show:!0,message:r,type:e},setTimeout(()=>{x.value.show=!1},3e3)},Y=()=>{localStorage.removeItem("tl_auth_token"),localStorage.removeItem("tl_user"),window.location.href="/"};return(r,e)=>(i(),n("div",ne,[t("header",ie,[t("div",de,[t("div",ue,[t("div",null,[e[23]||(e[23]=t("h1",{class:"text-2xl font-bold text-gray-900"}," TL-Dashboard ",-1)),t("p",pe," Welcome, "+l(S.value),1)]),t("div",ge,[t("button",{onClick:e[0]||(e[0]=o=>I.value=!I.value),class:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50"},[e[24]||(e[24]=t("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})],-1)),t("span",null,l(S.value),1),e[25]||(e[25]=t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})],-1))]),I.value?(i(),n("div",{key:0,onClick:e[1]||(e[1]=O(()=>{},["stop"])),class:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-50"},[e[27]||(e[27]=C('<a href="/team-leader/account" class="block px-4 py-2 text-sm text-gray-700 hover:bg-indigo-50 hover:text-indigo-600 transition"><svg class="w-4 h-4 inline-block mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> Account </a><a href="/team-leader/change-password" class="block px-4 py-2 text-sm text-gray-700 hover:bg-indigo-50 hover:text-indigo-600 transition"><svg class="w-4 h-4 inline-block mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"></path></svg> Change Password </a><div class="border-t border-gray-200 my-1"></div>',3)),t("button",{onClick:Y,class:"block w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50 transition"},[...e[26]||(e[26]=[t("svg",{class:"w-4 h-4 inline-block mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})],-1),u(" Logout ",-1)])])])):f("",!0)])])])]),t("main",ve,[t("div",me,[t("div",fe,[t("div",xe,[e[29]||(e[29]=t("div",{class:"p-3 rounded-lg bg-blue-100"},[t("svg",{class:"w-8 h-8 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})])],-1)),t("div",ce,[e[28]||(e[28]=t("p",{class:"text-sm font-medium text-gray-600"}," Total Staff ",-1)),t("p",ye,l(N.value),1)])])]),e[32]||(e[32]=C('<a href="/team-leader/staff-list" class="bg-white rounded-xl shadow-sm p-6 border border-gray-200 hover:shadow-md transition cursor-pointer group"><div class="flex items-center justify-between"><div class="flex items-center"><div class="p-3 rounded-lg bg-gradient-to-br from-indigo-100 to-purple-100 group-hover:from-indigo-200 group-hover:to-purple-200 transition"><svg class="w-8 h-8 text-indigo-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"></path></svg></div><div class="ml-4"><p class="text-sm font-medium text-gray-600"> View Staff </p><p class="text-lg font-semibold text-indigo-600"> All Data </p></div></div><svg class="w-5 h-5 text-gray-400 group-hover:text-indigo-600 transition" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg></div></a>',1)),t("div",be,[t("div",we,[e[31]||(e[31]=t("div",{class:"p-3 rounded-lg bg-purple-100"},[t("svg",{class:"w-8 h-8 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})])],-1)),t("div",ke,[e[30]||(e[30]=t("p",{class:"text-sm font-medium text-gray-600"}," Today's Date ",-1)),t("p",he,l(q.value),1)])])])]),t("div",_e,[t("div",{class:"p-6 border-b border-gray-200 bg-gradient-to-r from-indigo-50 to-purple-50"},[t("div",{class:"flex justify-between items-center"},[e[34]||(e[34]=t("div",null,[t("h2",{class:"text-xl font-bold text-gray-900 flex items-center"},[t("svg",{class:"w-6 h-6 mr-2 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})]),u(" Staff Attendance ")]),t("p",{class:"text-sm text-gray-600 mt-1"}," Record attendance for your team members ")],-1)),t("button",{onClick:K,class:"px-6 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white font-semibold rounded-lg hover:from-indigo-700 hover:to-purple-700"},[...e[33]||(e[33]=[t("svg",{class:"w-5 h-5 inline-block mr-2 -mt-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),u(" Record Attendance ",-1)])])])]),t("div",Ce,[D.value?(i(),n("div",Se,[...e[35]||(e[35]=[t("div",{class:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"},null,-1),t("p",{class:"mt-4 text-gray-600"}," Loading attendance records... ",-1)])])):y.value?(i(),n("div",Me,[e[36]||(e[36]=t("svg",{class:"w-16 h-16 text-red-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),t("p",Ae,l(y.value),1)])):A.value.length===0?(i(),n("div",De,[e[38]||(e[38]=t("svg",{class:"w-16 h-16 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})],-1)),t("div",Ve,[e[37]||(e[37]=t("label",{class:"text-sm text-gray-600"},"Filter tanggal (Report Day):",-1)),p(t("input",{type:"date","onUpdate:modelValue":e[2]||(e[2]=o=>b.value=o),onChange:e[3]||(e[3]=o=>w(1)),class:"px-3 py-2 border border-gray-300 rounded"},null,544),[[m,b.value]])]),e[39]||(e[39]=t("h3",{class:"text-lg font-medium text-gray-900 mb-2"}," No Attendance Records ",-1)),e[40]||(e[40]=t("p",{class:"text-gray-600"}," Start by creating a new attendance record. ",-1))])):(i(),n("div",je,[t("div",Fe,[e[41]||(e[41]=t("label",{class:"text-sm text-gray-600"},"Filter tanggal (Report Day):",-1)),p(t("input",{type:"date","onUpdate:modelValue":e[4]||(e[4]=o=>b.value=o),onChange:e[5]||(e[5]=o=>w(1)),class:"px-3 py-2 border border-gray-300 rounded"},null,544),[[m,b.value]])]),t("div",Ie,[t("table",Be,[e[42]||(e[42]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"}," Employee "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"}," Position "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"}," Department "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"}," WFH/Onsite "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"}," Device "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"}," Report Day "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"}," Status "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"}," Actions ")])],-1)),t("tbody",Le,[(i(!0),n(R,null,H(A.value,o=>(i(),n("tr",{key:o.id,class:"hover:bg-gray-50"},[t("td",Re,[t("div",He,l(o.name),1),t("div",Te,l(o.staff_id),1)]),t("td",ze,l(o.position),1),t("td",Pe,l(o.department),1),t("td",Ue,[t("span",{class:z(["px-2 py-1 text-xs font-semibold rounded-full",o.work_status==="WFH"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"])},l(o.work_status),3)]),t("td",Ee,l(o.device),1),t("td",Oe,l(_(o.report_day)),1),t("td",Ne,l(o.status_code),1),t("td",qe,[t("button",{onClick:d=>Q(o),class:"text-indigo-600 hover:text-indigo-900"}," View ",8,$e)])]))),128))])])]),g.value.last_page>1?(i(),n("div",We,[t("div",Ge," Showing "+l(g.value.from)+" to "+l(g.value.to)+" of "+l(g.value.total)+" results ",1),t("div",Je,[t("button",{onClick:e[6]||(e[6]=o=>B(g.value.current_page-1)),disabled:g.value.current_page===1,class:"px-3 py-1 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50"}," Previous ",8,Ke),(i(!0),n(R,null,H($.value,o=>(i(),n("button",{key:o,onClick:d=>B(o),class:z(["px-3 py-1 border rounded-md text-sm font-medium",o===g.value.current_page?"bg-indigo-600 text-white border-indigo-600":"border-gray-300 text-gray-700 hover:bg-gray-50"])},l(o),11,Qe))),128)),t("button",{onClick:e[7]||(e[7]=o=>B(g.value.current_page+1)),disabled:g.value.current_page===g.value.last_page,class:"px-3 py-1 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50"}," Next ",8,Xe)])])):f("",!0)]))])])]),V.value?(i(),n("div",Ye,[t("div",Ze,[e[62]||(e[62]=t("div",{class:"p-6 border-b border-gray-200 bg-gradient-to-r from-indigo-50 to-purple-50"},[t("h3",{class:"text-xl font-bold text-gray-900"}," Record Attendance ")],-1)),t("div",et,[t("form",{onSubmit:O(E,["prevent"]),class:"space-y-6"},[t("div",tt,[t("div",ot,[e[44]||(e[44]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Employee *",-1)),p(t("select",{"onUpdate:modelValue":e[8]||(e[8]=o=>s.value.staff_id=o),onChange:e[9]||(e[9]=o=>G(o)),required:"",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"},[e[43]||(e[43]=t("option",{value:""},"Select Employee",-1)),(i(!0),n(R,null,H(M.value,o=>(i(),n("option",{key:o.staff_id,value:o.staff_id},l(o.name)+" - "+l(o.staff_id),9,st))),128))],544),[[T,s.value.staff_id]])]),t("div",rt,[e[45]||(e[45]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Position *",-1)),p(t("input",{"onUpdate:modelValue":e[10]||(e[10]=o=>s.value.position=o),type:"text",required:"",readonly:"",class:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50"},null,512),[[m,s.value.position]])]),t("div",lt,[e[46]||(e[46]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Superior",-1)),p(t("input",{"onUpdate:modelValue":e[11]||(e[11]=o=>s.value.superior=o),type:"text",readonly:"",class:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50"},null,512),[[m,s.value.superior]])]),t("div",at,[e[47]||(e[47]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Department *",-1)),p(t("input",{"onUpdate:modelValue":e[12]||(e[12]=o=>s.value.department=o),type:"text",required:"",readonly:"",class:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50"},null,512),[[m,s.value.department]])]),t("div",nt,[e[48]||(e[48]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Hire Date *",-1)),p(t("input",{"onUpdate:modelValue":e[13]||(e[13]=o=>s.value.hire_date=o),type:"date",required:"",readonly:"",class:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50"},null,512),[[m,s.value.hire_date]])]),t("div",it,[e[49]||(e[49]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Rank *",-1)),p(t("input",{"onUpdate:modelValue":e[14]||(e[14]=o=>s.value.rank=o),type:"text",required:"",readonly:"",class:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50"},null,512),[[m,s.value.rank]])]),t("div",dt,[e[50]||(e[50]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Device *",-1)),p(t("input",{"onUpdate:modelValue":e[15]||(e[15]=o=>s.value.device=o),type:"text",required:"",readonly:"",class:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50"},null,512),[[m,s.value.device]])]),t("div",null,[e[51]||(e[51]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Report Day *",-1)),p(t("input",{"onUpdate:modelValue":e[16]||(e[16]=o=>s.value.report_day=o),type:"date",required:"",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"},null,512),[[m,s.value.report_day]])]),t("div",null,[e[52]||(e[52]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Last Working Day",-1)),p(t("input",{"onUpdate:modelValue":e[17]||(e[17]=o=>s.value.last_working_day=o),type:"date",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"},null,512),[[m,s.value.last_working_day]])]),t("div",ut,[e[53]||(e[53]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"WFH/Onsite *",-1)),p(t("input",{"onUpdate:modelValue":e[18]||(e[18]=o=>s.value.work_status=o),type:"text",required:"",readonly:"",class:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50"},null,512),[[m,s.value.work_status]])]),t("div",null,[e[55]||(e[55]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Ranking/Intervals *",-1)),p(t("select",{"onUpdate:modelValue":e[19]||(e[19]=o=>s.value.ranking_intervals=o),required:"",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"},[...e[54]||(e[54]=[C('<option value="">Select Ranking</option><option value="Top 5%">Top 5%</option><option value="5% ~ 25%">5% ~ 25%</option><option value="25% ~ 50%">25% ~ 50%</option><option value="50% ~ 70%">50% ~ 70%</option><option value="70% ~ 90%">70% ~ 90%</option><option value="Bottom 10%"> Bottom 10% </option>',7)])],512),[[T,s.value.ranking_intervals]])]),t("div",pt,[e[56]||(e[56]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Group",-1)),p(t("input",{"onUpdate:modelValue":e[20]||(e[20]=o=>s.value.group=o),type:"text",readonly:"",class:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50"},null,512),[[m,s.value.group]])]),t("div",null,[e[58]||(e[58]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Status & Code *",-1)),p(t("select",{"onUpdate:modelValue":e[21]||(e[21]=o=>s.value.status_code=o),required:"",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"},[...e[57]||(e[57]=[C('<option value="">Select Status</option><option value="AFPI CERTIFICATION"> AFPI CERTIFICATION </option><option value="Absent (AB4)"> Absent (AB4) </option><option value="Absent (AB8)"> Absent (AB8) </option><option value="Annual Leave (A8)"> Annual Leave (A8) </option><option value="FAILED IT CONFIG"> FAILED IT CONFIG </option><option value="Half Day - Sick (S4)"> Half Day - Sick (S4) </option><option value="Late">Late</option><option value="Leave (C4)"> Leave (C4) </option><option value="Leave (C8)"> Leave (C8) </option><option value="Paid Leave (P)"> Paid Leave (P) </option><option value="Resignation"> Resignation </option><option value="Sick (S8)">Sick (S8)</option>',13)])],512),[[T,s.value.status_code]])]),t("div",gt,[e[59]||(e[59]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Proof (Image)",-1)),t("input",{type:"file",onChange:J,accept:"image/jpeg,image/jpg,image/png",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"},null,32),e[60]||(e[60]=t("p",{class:"text-xs text-gray-500 mt-1"}," Upload proof of attendance (max 10MB, will be compressed to 200KB) ",-1))]),t("div",vt,[e[61]||(e[61]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Reason for Resign",-1)),p(t("textarea",{"onUpdate:modelValue":e[22]||(e[22]=o=>s.value.reason_for_resign=o),rows:"3",placeholder:"Enter reason if applicable",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"},null,512),[[m,s.value.reason_for_resign]])])])],32)]),t("div",mt,[t("button",{onClick:P,type:"button",class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50"}," Cancel "),t("button",{onClick:E,disabled:h.value,class:"px-6 py-2 text-sm font-medium text-white bg-gradient-to-r from-indigo-600 to-purple-600 rounded-lg hover:from-indigo-700 hover:to-purple-700 disabled:opacity-50"},l(h.value?"Submitting...":"Submit"),9,ft)])])])):f("",!0),j.value?(i(),n("div",xt,[t("div",ct,[e[79]||(e[79]=t("div",{class:"p-6 border-b border-gray-200 bg-gradient-to-r from-indigo-50 to-purple-50"},[t("h3",{class:"text-xl font-bold text-gray-900"}," Attendance Details ")],-1)),t("div",yt,[a.value?(i(),n("div",bt,[t("div",null,[e[63]||(e[63]=t("span",{class:"font-semibold"},"Employee:",-1)),u(" "+l(a.value.name)+" ("+l(a.value.staff_id)+") ",1)]),t("div",null,[e[64]||(e[64]=t("span",{class:"font-semibold"},"Position:",-1)),u(" "+l(a.value.position),1)]),t("div",null,[e[65]||(e[65]=t("span",{class:"font-semibold"},"Department:",-1)),u(" "+l(a.value.department),1)]),t("div",null,[e[66]||(e[66]=t("span",{class:"font-semibold"},"Superior:",-1)),u(" "+l(a.value.superior||"-"),1)]),t("div",null,[e[67]||(e[67]=t("span",{class:"font-semibold"},"Hire Date:",-1)),u(" "+l(_(a.value.hire_date)),1)]),t("div",null,[e[68]||(e[68]=t("span",{class:"font-semibold"},"Rank:",-1)),u(" "+l(a.value.rank||"-"),1)]),t("div",null,[e[69]||(e[69]=t("span",{class:"font-semibold"},"Device:",-1)),u(" "+l(a.value.device),1)]),t("div",null,[e[70]||(e[70]=t("span",{class:"font-semibold"},"WFH/Onsite:",-1)),u(" "+l(a.value.work_status),1)]),t("div",null,[e[71]||(e[71]=t("span",{class:"font-semibold"},"Report Day:",-1)),u(" "+l(_(a.value.report_day)),1)]),t("div",null,[e[72]||(e[72]=t("span",{class:"font-semibold"},"Last Working Day:",-1)),u(" "+l(a.value.last_working_day?_(a.value.last_working_day):"-"),1)]),t("div",null,[e[73]||(e[73]=t("span",{class:"font-semibold"},"Ranking/Intervals:",-1)),u(" "+l(a.value.ranking_intervals||"-"),1)]),t("div",null,[e[74]||(e[74]=t("span",{class:"font-semibold"},"Group:",-1)),u(" "+l(a.value.group||"-"),1)]),t("div",null,[e[75]||(e[75]=t("span",{class:"font-semibold"},"Status & Code:",-1)),u(" "+l(a.value.status_code),1)]),a.value.proof?(i(),n("div",wt,[e[76]||(e[76]=t("span",{class:"font-semibold"},"Proof:",-1)),e[77]||(e[77]=t("br",null,null,-1)),t("img",{src:`/${a.value.proof}`,alt:"Proof",class:"mt-2 max-w-md rounded-lg border"},null,8,kt)])):f("",!0),t("div",ht,[e[78]||(e[78]=t("span",{class:"font-semibold"},"Reason for Resign:",-1)),u(" "+l(a.value.reason_for_resign||"-"),1)])])):f("",!0)]),t("div",{class:"p-6 border-t border-gray-200 bg-gray-50 flex justify-end"},[t("button",{onClick:X,class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50"}," Close ")])])])):f("",!0),x.value.show?(i(),n("div",{key:2,class:z(["fixed top-4 right-4 px-6 py-4 rounded-lg shadow-lg z-50 flex items-center space-x-3",x.value.type==="success"?"bg-green-500":"bg-red-500","text-white"])},[(i(),n("svg",_t,[x.value.type==="success"?(i(),n("path",Ct)):(i(),n("path",St))])),t("span",null,l(x.value.message),1)],2)):f("",!0)]))}};oe(Mt).mount("#app");
