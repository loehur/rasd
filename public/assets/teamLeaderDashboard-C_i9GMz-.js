import{r as n,i as A,j as J,c as u,o as g,a as o,d as f,t as a,w as z,b as x,g as d,e as p,k as _,F as K,l as Q,v,n as X,h as Y}from"./tailwind--56Su58R.js";import{getTeamLeaderStaff as Z,getAttendances as ee,getStaffDetail as oe,createAttendance as te}from"./api-K6p-leZq.js";import{A as re}from"./api-rG_fphBW.js";const se={class:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50"},le={class:"bg-gradient-to-r from-slate-50 via-indigo-50 to-sky-50 text-slate-800 border-b border-slate-200 shadow-sm"},ae={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4"},ne={class:"flex justify-between items-center"},ie={class:"relative"},de={class:"truncate"},ue={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},ge={key:0,class:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8"},pe={key:1,class:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8"},ve={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50 overflow-y-auto"},me={class:"bg-white rounded-xl shadow-xl max-w-4xl w-full my-8"},ce={class:"p-6 max-h-[calc(90vh-200px)] overflow-y-auto"},fe={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},be={class:"md:col-span-2"},xe=["value"],ye={class:"hidden"},he={class:"hidden"},we={class:"hidden"},ke={class:"hidden"},Ce={class:"hidden"},Se={class:"hidden"},Me={class:"hidden"},Ae={class:"hidden"},_e={class:"md:col-span-2"},Be={class:"md:col-span-2"},je={class:"p-6 border-t border-gray-200 bg-gray-50 flex justify-end space-x-3"},De=["disabled"],Ve={key:1,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50 overflow-y-auto"},Le={class:"bg-white rounded-xl shadow-xl max-w-3xl w-full my-8"},Ie={class:"p-6 max-h-[calc(90vh-200px)] overflow-y-auto"},Fe={key:0,class:"grid grid-cols-2 gap-4"},Re={key:0,class:"col-span-2"},ze=["src"],Pe={class:"col-span-2"},Ue={class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Te={key:0,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},He={key:1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},Ee={__name:"DashboardApp",setup(Ne){const B=n(""),j=n(""),w=n([]),P=n([]),D=n(!0),k=n(""),V=n(!1),L=n(!1),y=n(!1),l=n(null),C=n(null),m=n({show:!1,message:"",type:"success"}),S=n(!1),h=n({total:0,per_page:15,current_page:1,last_page:1,from:0,to:0}),r=n({staff_id:"",work_status:"",name:"",position:"",superior:"",department:"",hire_date:"",rank:"",device:"",group:"",report_day:new Date().toISOString().split("T")[0],last_working_day:"",ranking_intervals:"",reason_for_resign:"",status_code:""});A(()=>w.value.length),A(()=>new Date().toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric"})),A(()=>{const s=[],e=h.value.current_page,t=h.value.last_page,i=2;for(let b=Math.max(2,e-i);b<=Math.min(t-1,e+i);b++)s.push(b);return e-i>2&&s.unshift("..."),e+i<t-1&&s.push("..."),s.unshift(1),t>1&&s.push(t),s.filter((b,G,$)=>$.indexOf(b)===G)}),J(()=>{if(localStorage.getItem("tl_must_change_password")==="true"){window.location.href="/team-leader/change-password";return}const e=JSON.parse(localStorage.getItem("tl_user")||"{}"),t=(e&&e.name?e.name:"Team Leader").trim();B.value=t.split(/\s+/)[0],j.value=e.role||"team_leader",U(),I()});const U=async()=>{try{if(!localStorage.getItem("tl_auth_token")){window.location.href="/";return}const e=await Z();e.success&&(w.value=e.data||[])}catch(s){console.error("Error fetching staff:",s)}},T=n(new Date().toISOString().split("T")[0]),I=async(s=1)=>{D.value=!0,k.value="";try{const e=await ee(s,T.value,1e3);e.success?(P.value=e.data||[],h.value=e.pagination):k.value=e.message||"Failed to load attendances"}catch(e){k.value="Failed to load attendances",console.error("Error:",e)}finally{D.value=!1}},H=async s=>{const e=s.target.value;if(console.log("Staff selection changed to:",e),!e){console.log("No staff selected (empty value)");return}console.log("Fetching staff detail for:",e);try{const t=await oe(e);if(console.log("Staff detail response:",t),t.success&&t.data){const i=t.data;console.log("Auto-filling form with staff data:",i),r.value.name=i.name||"",r.value.position=i.position||"",r.value.superior=i.superior||"",r.value.department=i.department||"",r.value.hire_date=i.hire_date||"",r.value.rank=i.rank||"",r.value.group=i.group||"",r.value.work_status=i.work_location||"",r.value.device=i.device||"PC",console.log("Form data after auto-fill:",r.value)}else console.error("Failed to get staff detail:",t),c(t.message||"Failed to load staff details","error")}catch(t){console.error("Error fetching staff detail:",t),c("Error loading staff details","error")}},E=s=>{const e=s.target.files[0];e&&(C.value=e)},F=()=>{V.value=!1,N()},N=()=>{r.value={staff_id:"",work_status:"",name:"",position:"",superior:"",department:"",hire_date:"",rank:"",device:"",group:"",report_day:new Date().toISOString().split("T")[0],last_working_day:"",ranking_intervals:"",reason_for_resign:"",status_code:""},C.value=null},R=async()=>{y.value=!0;try{const s=await te(r.value,C.value);if(s.success)c(s.message||"Attendance created successfully","success"),F(),I(h.value.current_page);else if(s.errors){const e=Object.values(s.errors).flat();c(e.join(", "),"error")}else c(s.message||"Operation failed","error")}catch(s){c("An error occurred","error"),console.error("Error:",s)}finally{y.value=!1}},O=()=>{L.value=!1,l.value=null},M=s=>s?new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"-",c=(s,e="success")=>{m.value={show:!0,message:s,type:e},setTimeout(()=>{m.value.show=!1},3e3)},q=()=>{localStorage.removeItem("tl_auth_token"),localStorage.removeItem("tl_user"),window.location.href="/"},W=s=>{if(!s)return"";if(/^https?:\/\//i.test(s))return s;const e=String(re).replace(/\/$/,""),t=String(s).startsWith("/")?s.slice(1):s;return`${e}/${t}`};return(s,e)=>(g(),u("div",se,[o("header",le,[o("div",ae,[o("div",ne,[e[21]||(e[21]=o("div",null,[o("h1",{class:"text-2xl font-bold tracking-tight"}," Team Leader ")],-1)),o("div",ie,[o("button",{onClick:e[0]||(e[0]=t=>S.value=!S.value),class:"flex items-center gap-2 px-4 py-2 text-sm font-medium bg-white/70 border border-slate-300 rounded-lg hover:bg-white text-slate-800"},[e[17]||(e[17]=o("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})],-1)),o("span",de,a(B.value),1),e[18]||(e[18]=o("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})],-1))]),S.value?(g(),u("div",{key:0,onClick:e[1]||(e[1]=z(()=>{},["stop"])),class:"absolute right-0 mt-2 w-52 bg-white rounded-lg shadow-xl border border-gray-200 py-1 z-50"},[e[20]||(e[20]=x('<a href="/team-leader/account" class="block px-4 py-2 text-sm text-gray-700 hover:bg-violet-50 hover:text-violet-700 transition"><svg class="w-4 h-4 inline-block mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> Account </a><a href="/team-leader/change-password" class="block px-4 py-2 text-sm text-gray-700 hover:bg-violet-50 hover:text-violet-700 transition"><svg class="w-4 h-4 inline-block mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"></path></svg> Change Password </a><div class="border-t border-gray-200 my-1"></div>',3)),o("button",{onClick:q,class:"block w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50 transition"},[...e[19]||(e[19]=[o("svg",{class:"w-4 h-4 inline-block mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})],-1),d(" Logout ",-1)])])])):f("",!0)])])])]),o("main",ue,[j.value!=="staff"?(g(),u("div",ge,[...e[22]||(e[22]=[x('<a href="/team-leader/staff-list" class="bg-white rounded-xl shadow-sm p-6 border border-gray-200 hover:shadow-lg hover:border-emerald-300 transition-all cursor-pointer group"><div class="flex items-center"><div class="p-3 rounded-lg bg-emerald-100 group-hover:bg-emerald-200 transition-colors"><svg class="w-8 h-8 text-emerald-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7M15 7a3 3 0 11-6 0 3 3 0 016 0"></path></svg></div><div class="ml-4 flex-1"><p class="text-sm font-medium text-gray-600 group-hover:text-emerald-600"> Staff Lists </p><p class="text-lg font-bold text-gray-900 group-hover:text-emerald-700"> Active </p></div><svg class="w-6 h-6 text-gray-400 group-hover:text-emerald-600 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg></div></a><a href="/team-leader/inactive-staff" class="bg-white rounded-xl shadow-sm p-6 border border-gray-200 hover:shadow-lg hover:border-blue-300 transition-all cursor-pointer group"><div class="flex items-center"><div class="p-3 rounded-lg bg-blue-100 group-hover:bg-blue-200 transition-colors"><svg class="w-8 h-8 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13"></path></svg></div><div class="ml-4 flex-1"><p class="text-sm font-medium text-gray-600 group-hover:text-blue-600"> Staff Lists </p><p class="text-lg font-bold text-gray-900 group-hover:text-blue-700"> Resign </p></div><svg class="w-6 h-6 text-gray-400 group-hover:text-blue-600 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg></div></a><a href="/team-leader/attendance" class="bg-white rounded-xl shadow-sm p-6 border border-gray-200 hover:shadow-lg hover:border-indigo-300 transition-all cursor-pointer group"><div class="flex items-center"><div class="p-3 rounded-lg bg-indigo-100 group-hover:bg-indigo-200 transition-colors"><svg class="w-8 h-8 text-indigo-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path></svg></div><div class="ml-4 flex-1"><p class="text-sm font-medium text-gray-600 group-hover:text-indigo-600 transition-colors"> Staff Attendance </p><p class="text-lg font-bold text-gray-900 group-hover:text-indigo-700 transition-colors"> Record &amp; Manage </p></div><svg class="w-6 h-6 text-gray-400 group-hover:text-indigo-600 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg></div></a><a href="/team-leader/phone-numbers" class="bg-white rounded-xl shadow-sm p-6 border border-gray-200 hover:shadow-lg hover:border-green-300 transition-all cursor-pointer group"><div class="flex items-center"><div class="p-3 rounded-lg bg-green-100 group-hover:bg-green-200 transition-colors"><svg class="w-8 h-8 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path></svg></div><div class="ml-4 flex-1"><p class="text-sm font-medium text-gray-600 group-hover:text-green-600"> Phone Numbers </p><p class="text-lg font-bold text-gray-900 group-hover:text-green-700"> View Contacts </p></div><svg class="w-6 h-6 text-gray-400 group-hover:text-green-600 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg></div></a><a href="/team-leader/resignation" class="bg-white rounded-xl shadow-sm p-6 border border-gray-200 hover:shadow-lg hover:border-red-300 transition-all cursor-pointer group"><div class="flex items-center"><div class="p-3 rounded-lg bg-red-100 group-hover:bg-red-200 transition-colors"><svg class="w-8 h-8 text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7a4 4 0 11-8 0 4 4 0 018 0zM9 14a6 6 0 00-6 6v1h12v-1a6 6 0 00-6-6zM21 12h-6"></path></svg></div><div class="ml-4 flex-1"><p class="text-sm font-medium text-gray-600 group-hover:text-red-600 transition-colors"> Staff Resignation </p><p class="text-lg font-bold text-gray-900 group-hover:text-red-700 transition-colors"> Manage Resignations </p></div><svg class="w-6 h-6 text-gray-400 group-hover:text-red-600 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg></div></a><a href="https://excel.myportofolio98.xyz/" target="_blank" rel="noopener noreferrer" class="bg-white rounded-xl shadow-sm p-6 border border-gray-200 hover:shadow-lg hover:border-rose-300 transition-all cursor-pointer group"><div class="flex items-center"><div class="p-3 rounded-lg bg-rose-100 group-hover:bg-rose-200 transition-colors"><svg class="w-8 h-8 text-rose-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path></svg></div><div class="ml-4 flex-1"><p class="text-sm font-medium text-gray-600 group-hover:text-rose-600 transition-colors"> Reports </p><p class="text-lg font-bold text-gray-900 group-hover:text-rose-700 transition-colors"> Performance </p></div><svg class="w-6 h-6 text-gray-400 group-hover:text-rose-600 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"></path></svg></div></a>',6)])])):(g(),u("div",pe,[...e[23]||(e[23]=[x('<a href="/team-leader/phone-numbers" class="bg-white rounded-xl shadow-sm p-6 border border-gray-200 hover:shadow-lg hover:border-green-300 transition-all cursor-pointer group"><div class="flex items-center"><div class="p-3 rounded-lg bg-green-100 group-hover:bg-green-200 transition-colors"><svg class="w-8 h-8 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path></svg></div><div class="ml-4 flex-1"><p class="text-sm font-medium text-gray-600 group-hover:text-green-600"> Phone Numbers </p><p class="text-lg font-bold text-gray-900 group-hover:text-green-700"> Manage Contacts </p></div><svg class="w-6 h-6 text-gray-400 group-hover:text-green-600 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg></div></a><div class="bg-white rounded-xl shadow-sm p-6 border border-gray-200 opacity-50"><div class="flex items-center"><div class="p-3 rounded-lg bg-gray-100"><svg class="w-8 h-8 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg></div><div class="ml-4 flex-1"><p class="text-sm font-medium text-gray-400"> More Features </p><p class="text-lg font-bold text-gray-400"> Coming Soon </p></div></div></div>',2)])]))]),V.value?(g(),u("div",ve,[o("div",me,[e[43]||(e[43]=o("div",{class:"p-6 border-b border-gray-200 bg-gradient-to-r from-indigo-50 to-purple-50"},[o("h3",{class:"text-xl font-bold text-gray-900"}," Record Attendance ")],-1)),o("div",ce,[o("form",{onSubmit:z(R,["prevent"]),class:"space-y-6"},[o("div",fe,[o("div",be,[e[25]||(e[25]=o("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Employee *",-1)),p(o("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>r.value.staff_id=t),onChange:e[3]||(e[3]=t=>H(t)),required:"",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"},[e[24]||(e[24]=o("option",{value:""},"Select Employee",-1)),(g(!0),u(K,null,Q(w.value,t=>(g(),u("option",{key:t.staff_id,value:t.staff_id},a(t.name)+" - "+a(t.staff_id),9,xe))),128))],544),[[_,r.value.staff_id]])]),o("div",ye,[e[26]||(e[26]=o("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Position *",-1)),p(o("input",{"onUpdate:modelValue":e[4]||(e[4]=t=>r.value.position=t),type:"text",required:"",readonly:"",class:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50"},null,512),[[v,r.value.position]])]),o("div",he,[e[27]||(e[27]=o("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Superior",-1)),p(o("input",{"onUpdate:modelValue":e[5]||(e[5]=t=>r.value.superior=t),type:"text",readonly:"",class:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50"},null,512),[[v,r.value.superior]])]),o("div",we,[e[28]||(e[28]=o("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Department *",-1)),p(o("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>r.value.department=t),type:"text",required:"",readonly:"",class:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50"},null,512),[[v,r.value.department]])]),o("div",ke,[e[29]||(e[29]=o("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Hire Date *",-1)),p(o("input",{"onUpdate:modelValue":e[7]||(e[7]=t=>r.value.hire_date=t),type:"date",required:"",readonly:"",class:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50"},null,512),[[v,r.value.hire_date]])]),o("div",Ce,[e[30]||(e[30]=o("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Rank *",-1)),p(o("input",{"onUpdate:modelValue":e[8]||(e[8]=t=>r.value.rank=t),type:"text",required:"",readonly:"",class:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50"},null,512),[[v,r.value.rank]])]),o("div",Se,[e[31]||(e[31]=o("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Device *",-1)),p(o("input",{"onUpdate:modelValue":e[9]||(e[9]=t=>r.value.device=t),type:"text",required:"",readonly:"",class:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50"},null,512),[[v,r.value.device]])]),o("div",null,[e[32]||(e[32]=o("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Report Day *",-1)),p(o("input",{"onUpdate:modelValue":e[10]||(e[10]=t=>r.value.report_day=t),type:"date",required:"",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"},null,512),[[v,r.value.report_day]])]),o("div",null,[e[33]||(e[33]=o("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Last Working Day",-1)),p(o("input",{"onUpdate:modelValue":e[11]||(e[11]=t=>r.value.last_working_day=t),type:"date",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"},null,512),[[v,r.value.last_working_day]])]),o("div",Me,[e[34]||(e[34]=o("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"WFH/Onsite *",-1)),p(o("input",{"onUpdate:modelValue":e[12]||(e[12]=t=>r.value.work_status=t),type:"text",required:"",readonly:"",class:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50"},null,512),[[v,r.value.work_status]])]),o("div",null,[e[36]||(e[36]=o("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Ranking/Intervals *",-1)),p(o("select",{"onUpdate:modelValue":e[13]||(e[13]=t=>r.value.ranking_intervals=t),required:"",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"},[...e[35]||(e[35]=[x('<option value="">Select Ranking</option><option value="Top 5%">Top 5%</option><option value="5% ~ 25%">5% ~ 25%</option><option value="25% ~ 50%">25% ~ 50%</option><option value="50% ~ 70%">50% ~ 70%</option><option value="70% ~ 90%">70% ~ 90%</option><option value="Bottom 10%"> Bottom 10% </option>',7)])],512),[[_,r.value.ranking_intervals]])]),o("div",Ae,[e[37]||(e[37]=o("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Group",-1)),p(o("input",{"onUpdate:modelValue":e[14]||(e[14]=t=>r.value.group=t),type:"text",readonly:"",class:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50"},null,512),[[v,r.value.group]])]),o("div",null,[e[39]||(e[39]=o("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Status & Code *",-1)),p(o("select",{"onUpdate:modelValue":e[15]||(e[15]=t=>r.value.status_code=t),required:"",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"},[...e[38]||(e[38]=[x('<option value="">Select Status</option><option value="AFPI CERTIFICATION"> AFPI CERTIFICATION </option><option value="Absent (AB4)"> Absent (AB4) </option><option value="Absent (AB8)"> Absent (AB8) </option><option value="Annual Leave (A8)"> Annual Leave (A8) </option><option value="FAILED IT CONFIG"> FAILED IT CONFIG </option><option value="Half Day - Sick (S4)"> Half Day - Sick (S4) </option><option value="Late">Late</option><option value="Leave (C4)"> Leave (C4) </option><option value="Leave (C8)"> Leave (C8) </option><option value="Paid Leave (P)"> Paid Leave (P) </option><option value="Resignation"> Resignation </option><option value="Sick (S8)">Sick (S8)</option>',13)])],512),[[_,r.value.status_code]])]),o("div",_e,[e[40]||(e[40]=o("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Proof (Image)",-1)),o("input",{type:"file",onChange:E,accept:"image/jpeg,image/jpg,image/png",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"},null,32),e[41]||(e[41]=o("p",{class:"text-xs text-gray-500 mt-1"}," Upload proof of attendance (max 10MB, will be compressed to 200KB) ",-1))]),o("div",Be,[e[42]||(e[42]=o("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Reason for Resign",-1)),p(o("textarea",{"onUpdate:modelValue":e[16]||(e[16]=t=>r.value.reason_for_resign=t),rows:"3",placeholder:"Enter reason if applicable",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"},null,512),[[v,r.value.reason_for_resign]])])])],32)]),o("div",je,[o("button",{onClick:F,type:"button",class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50"}," Cancel "),o("button",{onClick:R,disabled:y.value,class:"px-6 py-2 text-sm font-medium text-white bg-gradient-to-r from-indigo-600 to-purple-600 rounded-lg hover:from-indigo-700 hover:to-purple-700 disabled:opacity-50"},a(y.value?"Submitting...":"Submit"),9,De)])])])):f("",!0),L.value?(g(),u("div",Ve,[o("div",Le,[e[60]||(e[60]=o("div",{class:"p-6 border-b border-gray-200 bg-gradient-to-r from-indigo-50 to-purple-50"},[o("h3",{class:"text-xl font-bold text-gray-900"}," Attendance Details ")],-1)),o("div",Ie,[l.value?(g(),u("div",Fe,[o("div",null,[e[44]||(e[44]=o("span",{class:"font-semibold"},"Employee:",-1)),d(" "+a(l.value.name)+" ("+a(l.value.staff_id)+") ",1)]),o("div",null,[e[45]||(e[45]=o("span",{class:"font-semibold"},"Position:",-1)),d(" "+a(l.value.position),1)]),o("div",null,[e[46]||(e[46]=o("span",{class:"font-semibold"},"Department:",-1)),d(" "+a(l.value.department),1)]),o("div",null,[e[47]||(e[47]=o("span",{class:"font-semibold"},"Superior:",-1)),d(" "+a(l.value.superior||"-"),1)]),o("div",null,[e[48]||(e[48]=o("span",{class:"font-semibold"},"Hire Date:",-1)),d(" "+a(M(l.value.hire_date)),1)]),o("div",null,[e[49]||(e[49]=o("span",{class:"font-semibold"},"Rank:",-1)),d(" "+a(l.value.rank||"-"),1)]),o("div",null,[e[50]||(e[50]=o("span",{class:"font-semibold"},"Device:",-1)),d(" "+a(l.value.device),1)]),o("div",null,[e[51]||(e[51]=o("span",{class:"font-semibold"},"WFH/Onsite:",-1)),d(" "+a(l.value.work_status),1)]),o("div",null,[e[52]||(e[52]=o("span",{class:"font-semibold"},"Report Day:",-1)),d(" "+a(M(l.value.report_day)),1)]),o("div",null,[e[53]||(e[53]=o("span",{class:"font-semibold"},"Last Working Day:",-1)),d(" "+a(l.value.last_working_day?M(l.value.last_working_day):"-"),1)]),o("div",null,[e[54]||(e[54]=o("span",{class:"font-semibold"},"Ranking/Intervals:",-1)),d(" "+a(l.value.ranking_intervals||"-"),1)]),o("div",null,[e[55]||(e[55]=o("span",{class:"font-semibold"},"Group:",-1)),d(" "+a(l.value.group||"-"),1)]),o("div",null,[e[56]||(e[56]=o("span",{class:"font-semibold"},"Status & Code:",-1)),d(" "+a(l.value.status_code),1)]),l.value.proof?(g(),u("div",Re,[e[57]||(e[57]=o("span",{class:"font-semibold"},"Proof:",-1)),e[58]||(e[58]=o("br",null,null,-1)),o("img",{src:W(l.value.proof),alt:"Proof",class:"mt-2 max-w-md rounded-lg border"},null,8,ze)])):f("",!0),o("div",Pe,[e[59]||(e[59]=o("span",{class:"font-semibold"},"Reason for Resign:",-1)),d(" "+a(l.value.reason_for_resign||"-"),1)])])):f("",!0)]),o("div",{class:"p-6 border-t border-gray-200 bg-gray-50 flex justify-end"},[o("button",{onClick:O,class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50"}," Close ")])])])):f("",!0),m.value.show?(g(),u("div",{key:2,class:X(["fixed top-4 right-4 px-6 py-4 rounded-lg shadow-lg z-50 flex items-center space-x-3",m.value.type==="success"?"bg-green-500":"bg-red-500","text-white"])},[(g(),u("svg",Ue,[m.value.type==="success"?(g(),u("path",Te)):(g(),u("path",He))])),o("span",null,a(m.value.message),1)],2)):f("",!0)]))}};Y(Ee).mount("#app");
