import{r as u,i as v,j as $,c as a,o as r,a as e,d as T,g as h,e as V,v as I,t as o,F as w,k as y,n as P,w as H,h as E}from"./tailwind-BChqtM0q.js";import{A as N}from"./api-n_PshMHp.js";const S={class:"min-h-screen bg-slate-950 text-slate-100 p-6"},F={class:"max-w-7xl mx-auto"},R={class:"bg-slate-900/70 backdrop-blur border border-slate-800/80 rounded-xl p-4 mb-4"},U={class:"flex gap-2"},q={key:0,class:"text-center py-12 bg-slate-900/70 backdrop-blur border border-slate-800/80 rounded-2xl"},Q={key:1,class:"bg-red-500/10 border border-red-500/30 rounded-2xl p-6 text-center"},G={class:"text-red-300 font-semibold"},J={key:2,class:"bg-slate-900/70 backdrop-blur border border-slate-800/80 rounded-2xl overflow-hidden"},K={class:"hidden md:block overflow-x-auto"},O={class:"w-full"},W={class:"divide-y divide-slate-800/50"},X={class:"px-6 py-4 whitespace-nowrap"},Y={class:"text-sm font-mono text-blue-400"},Z={class:"px-6 py-4"},ee={class:"flex items-center gap-3"},te={class:"w-10 h-10 rounded-full bg-gradient-to-br from-blue-500 to-emerald-500 flex items-center justify-center text-white font-bold"},se={class:"text-sm font-semibold text-slate-100"},oe={class:"px-6 py-4"},le={class:"text-sm text-slate-300"},ae={class:"px-6 py-4"},re={class:"px-3 py-1 text-xs font-medium rounded-full bg-purple-500/20 text-purple-300 border border-purple-500/30"},ne={class:"px-6 py-4"},ie={class:"text-sm text-slate-400"},de={class:"px-6 py-4"},ue={class:"text-sm text-slate-400"},ce={class:"px-6 py-4"},xe={class:"text-sm text-slate-400"},pe={class:"px-6 py-4"},me={class:"flex items-center gap-2"},be=["onClick"],ve=["onClick"],he={class:"md:hidden divide-y divide-slate-800/50"},fe={class:"flex items-start gap-3 mb-3"},ge={class:"w-12 h-12 rounded-full bg-gradient-to-br from-blue-500 to-emerald-500 flex items-center justify-center text-white font-bold text-sm flex-shrink-0"},ke={class:"flex-1 min-w-0"},_e={class:"text-sm font-semibold text-slate-100 truncate"},we={class:"text-xs text-slate-400 truncate"},ye={class:"text-xs font-mono text-blue-400 mt-1"},Ce={class:"px-2 py-1 text-xs font-medium rounded-full bg-slate-800/30 text-slate-300 border border-slate-700"},Me={class:"grid grid-cols-2 gap-2 text-xs mb-3"},Le={class:"text-slate-300 font-medium truncate"},je={class:"text-slate-300 font-medium truncate"},Be={class:"flex gap-2 pt-3 border-t border-slate-800/50"},Te=["onClick"],Ae=["onClick"],ze={key:0,class:"px-6 py-4 bg-slate-800/30 flex items-center justify-between"},De={class:"text-sm text-slate-400"},$e={class:"flex gap-2"},Ve=["disabled"],Ie=["onClick"],Pe=["disabled"],He={key:3,class:"text-center py-12 bg-slate-900/70 backdrop-blur border border-slate-800/80 rounded-2xl"},Ee={class:"flex items-start justify-between mb-6"},Ne={class:"flex items-center gap-4"},Se={class:"w-16 h-16 rounded-full bg-gradient-to-br from-blue-500 to-emerald-500 flex items-center justify-center text-white text-2xl font-bold"},Fe={class:"text-2xl font-bold text-slate-100"},Re={class:"text-slate-400"},Ue={class:"grid grid-cols-2 gap-4"},qe={class:"text-sm text-slate-100 font-mono"},Qe={class:"text-sm text-slate-100"},Ge={class:"text-sm text-slate-100"},Je={class:"text-sm text-slate-100"},Ke={class:"text-sm text-slate-100"},Oe={__name:"TeamLeaderList",setup(We){const c=u([]),f=u(!1),b=u(""),x=u(""),i=u(1),p=u(5),n=u(null),m=v(()=>{if(!x.value)return c.value;const l=x.value.toLowerCase();return c.value.filter(t=>(t.name||"").toLowerCase().includes(l)||(t.employee_id||"").toLowerCase().includes(l)||(t.team||"").toLowerCase().includes(l))}),g=v(()=>Math.max(1,Math.ceil(m.value.length/p.value))),C=v(()=>{const l=(i.value-1)*p.value;return m.value.slice(l,l+p.value)}),A=v(()=>{const l=[];let s=Math.max(1,i.value-Math.floor(2.5)),d=Math.min(g.value,s+5-1);d-s<4&&(s=Math.max(1,d-5+1));for(let _=s;_<=d;_++)l.push(_);return l}),k=l=>l?l.split(" ").map(t=>t[0]||"").join("").toUpperCase().substring(0,2):"TL",M=l=>{n.value=l},z=()=>{x.value="",i.value=1},L=async()=>{f.value=!0,b.value="";try{const l=localStorage.getItem("auth_token"),s=await(await fetch(`${N}/api/team-leaders`,{headers:{Authorization:`Bearer ${l}`}})).json();s.success&&Array.isArray(s.data)?c.value=s.data:Array.isArray(s)?c.value=s:c.value=[]}catch(l){b.value="Connection error. Please make sure the server is running.",console.error("Load error:",l),c.value=[]}finally{f.value=!1}},j=l=>{window.location.href=`/admin/team-leader/edit/${l.employee_id}`};$(L);const D=()=>{window.location.href="/admin/dashboard"},B=()=>{window.location.href="/admin/import-team-leader"};return(l,t)=>(r(),a("div",S,[e("div",F,[e("div",{class:"mb-8"},[e("button",{onClick:D,class:"mb-4 text-slate-400 hover:text-slate-200 flex items-center gap-2 transition"},[...t[6]||(t[6]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1),h(" Back to Dashboard ",-1)])]),e("div",{class:"flex items-center justify-between"},[t[8]||(t[8]=e("div",null,[e("h1",{class:"text-3xl font-black bg-clip-text text-transparent bg-gradient-to-r from-white via-slate-100 to-slate-300"}," Team Leader ")],-1)),e("div",{class:"flex gap-3"},[e("button",{onClick:B,class:"px-4 py-2 bg-blue-600/20 text-blue-400 border border-blue-600/30 rounded-lg hover:bg-blue-600/30 transition flex items-center gap-2"},[...t[7]||(t[7]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})],-1),h(" Import ",-1)])])])])]),e("div",R,[e("div",U,[V(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>x.value=s),type:"text",placeholder:"Search by name, employee ID, or team...",class:"flex-1 px-3 py-2 text-sm bg-slate-800/50 border border-slate-700 rounded-lg text-slate-100 placeholder-slate-500 focus:outline-none focus:border-blue-500 transition"},null,512),[[I,x.value]]),e("button",{onClick:z,class:"px-3 py-2 text-sm bg-slate-800/50 border border-slate-700 rounded-lg text-slate-400 hover:text-slate-200 hover:border-slate-600 transition flex items-center justify-center",title:"Reset search"},[...t[9]||(t[9]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])]),f.value?(r(),a("div",q,[...t[10]||(t[10]=[e("div",{class:"inline-block w-12 h-12 border-4 border-blue-500/30 border-t-blue-500 rounded-full animate-spin"},null,-1),e("p",{class:"text-slate-400 mt-4"},"Loading team leader data...",-1)])])):b.value?(r(),a("div",Q,[t[11]||(t[11]=e("svg",{class:"w-12 h-12 text-red-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),e("p",G,o(b.value),1),e("button",{onClick:L,class:"mt-4 px-4 py-2 bg-red-600/20 text-red-400 border border-red-600/30 rounded-lg hover:bg-red-600/30 transition"}," Retry ")])):m.value.length>0?(r(),a("div",J,[e("div",K,[e("table",O,[t[14]||(t[14]=e("thead",{class:"bg-slate-800/50"},[e("tr",null,[e("th",{class:"px-6 py-4 text-left text-xs font-semibold text-slate-300 uppercase tracking-wider"}," Employee ID "),e("th",{class:"px-6 py-4 text-left text-xs font-semibold text-slate-300 uppercase tracking-wider"}," Name "),e("th",{class:"px-6 py-4 text-left text-xs font-semibold text-slate-300 uppercase tracking-wider"}," Position "),e("th",{class:"px-6 py-4 text-left text-xs font-semibold text-slate-300 uppercase tracking-wider"}," Team "),e("th",{class:"px-6 py-4 text-left text-xs font-semibold text-slate-300 uppercase tracking-wider"}," Department "),e("th",{class:"px-6 py-4 text-left text-xs font-semibold text-slate-300 uppercase tracking-wider"}," Area "),e("th",{class:"px-6 py-4 text-left text-xs font-semibold text-slate-300 uppercase tracking-wider"}," Hire Date "),e("th",{class:"px-6 py-4 text-left text-xs font-semibold text-slate-300 uppercase tracking-wider"}," Actions ")])],-1)),e("tbody",W,[(r(!0),a(w,null,y(C.value,s=>(r(),a("tr",{key:s.id,class:"hover:bg-slate-800/30 transition"},[e("td",X,[e("span",Y,o(s.employee_id),1)]),e("td",Z,[e("div",ee,[e("div",te,o(k(s.name)),1),e("div",null,[e("p",se,o(s.name),1)])])]),e("td",oe,[e("span",le,o(s.position),1)]),e("td",ae,[e("span",re,o(s.team||"-"),1)]),e("td",ne,[e("span",ie,o(s.department),1)]),e("td",de,[e("span",ue,o(s.area),1)]),e("td",ce,[e("span",xe,o(s.hire_date),1)]),e("td",pe,[e("div",me,[e("button",{onClick:d=>M(s),class:"text-blue-400 hover:text-blue-300 transition",title:"View Details"},[...t[12]||(t[12]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1)])],8,be),e("button",{onClick:d=>j(s),class:"text-emerald-400 hover:text-emerald-300 transition",title:"Edit Team Leader"},[...t[13]||(t[13]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])],8,ve)])])]))),128))])])]),e("div",he,[(r(!0),a(w,null,y(C.value,s=>(r(),a("div",{key:s.id,class:"p-4 hover:bg-slate-800/30 transition"},[e("div",fe,[e("div",ge,o(k(s.name)),1),e("div",ke,[e("h3",_e,o(s.name),1),e("p",we,o(s.position),1),e("p",ye,o(s.employee_id),1)]),e("div",null,[e("span",Ce,o(s.team||"-"),1)])]),e("div",Me,[e("div",null,[t[15]||(t[15]=e("p",{class:"text-slate-500"},"Department",-1)),e("p",Le,o(s.department),1)]),e("div",null,[t[16]||(t[16]=e("p",{class:"text-slate-500"},"Area",-1)),e("p",je,o(s.area),1)])]),e("div",Be,[e("button",{onClick:d=>M(s),class:"flex-1 px-3 py-2 bg-blue-600/20 text-blue-400 border border-blue-600/30 rounded-lg hover:bg-blue-600/30 transition flex items-center justify-center gap-2 text-sm"},[...t[17]||(t[17]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1),h(" View ",-1)])],8,Te),e("button",{onClick:d=>j(s),class:"flex-1 px-3 py-2 bg-emerald-600/20 text-emerald-400 border border-emerald-600/30 rounded-lg hover:bg-emerald-600/30 transition flex items-center justify-center gap-2 text-sm"},[...t[18]||(t[18]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1),h(" Edit ",-1)])],8,Ae)])]))),128))]),g.value>1?(r(),a("div",ze,[e("p",De," Showing "+o((i.value-1)*p.value+1)+" to "+o(Math.min(i.value*p.value,m.value.length))+" of "+o(m.value.length)+" team leaders ",1),e("div",$e,[e("button",{onClick:t[1]||(t[1]=s=>i.value--),disabled:i.value===1,class:"px-4 py-2 bg-slate-800/50 border border-slate-700 rounded-lg text-slate-300 hover:bg-slate-700/50 transition disabled:opacity-50 disabled:cursor-not-allowed"}," Previous ",8,Ve),(r(!0),a(w,null,y(A.value,s=>(r(),a("button",{key:s,onClick:d=>i.value=s,class:P(["px-4 py-2 border rounded-lg transition",i.value===s?"bg-blue-600/30 border-blue-500 text-blue-300":"bg-slate-800/50 border-slate-700 text-slate-300 hover:bg-slate-700/50"])},o(s),11,Ie))),128)),e("button",{onClick:t[2]||(t[2]=s=>i.value++),disabled:i.value===g.value,class:"px-4 py-2 bg-slate-800/50 border border-slate-700 rounded-lg text-slate-300 hover:bg-slate-700/50 transition disabled:opacity-50 disabled:cursor-not-allowed"}," Next ",8,Pe)])])):T("",!0)])):(r(),a("div",He,[t[19]||(t[19]=e("svg",{class:"w-16 h-16 text-slate-600 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})],-1)),t[20]||(t[20]=e("p",{class:"text-slate-400 text-lg"},"No team leaders found",-1)),e("button",{onClick:B,class:"mt-4 px-6 py-3 bg-blue-600/20 text-blue-400 border border-blue-600/30 rounded-lg hover:bg-blue-600/30 transition"}," Import Team Leader Data ")])),n.value?(r(),a("div",{key:4,onClick:t[5]||(t[5]=s=>n.value=null),class:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50"},[e("div",{onClick:t[4]||(t[4]=H(()=>{},["stop"])),class:"bg-slate-900 border border-slate-800 rounded-2xl p-6 max-w-2xl w-full max-h-[90vh] overflow-y-auto"},[e("div",Ee,[e("div",Ne,[e("div",Se,o(k(n.value.name)),1),e("div",null,[e("h2",Fe,o(n.value.name),1),e("p",Re,o(n.value.position),1)])]),e("button",{onClick:t[3]||(t[3]=s=>n.value=null),class:"text-slate-400 hover:text-slate-200 transition"},[...t[21]||(t[21]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),e("div",Ue,[e("div",null,[t[22]||(t[22]=e("p",{class:"text-xs text-slate-500 uppercase mb-1"}," Employee ID ",-1)),e("p",qe,o(n.value.employee_id),1)]),e("div",null,[t[23]||(t[23]=e("p",{class:"text-xs text-slate-500 uppercase mb-1"}," Team ",-1)),e("p",Qe,o(n.value.team||"-"),1)]),e("div",null,[t[24]||(t[24]=e("p",{class:"text-xs text-slate-500 uppercase mb-1"}," Department ",-1)),e("p",Ge,o(n.value.department||"-"),1)]),e("div",null,[t[25]||(t[25]=e("p",{class:"text-xs text-slate-500 uppercase mb-1"}," Area ",-1)),e("p",Je,o(n.value.area||"-"),1)]),e("div",null,[t[26]||(t[26]=e("p",{class:"text-xs text-slate-500 uppercase mb-1"}," Hire Date ",-1)),e("p",Ke,o(n.value.hire_date||"-"),1)])])])])):T("",!0)])]))}};E(Oe).mount("#app");
